import { BaseProps, RawHTML, ViewMode } from "cnsys-ui-react";
import { Constants, EAUBaseComponent, TextEditorUI } from "eau-core";
import { AISCaseURIUI, DocumentMustServeToUI, DocumentURIUI, ElectronicServiceApplicantUI, ElectronicServiceProviderBasicDataUI, FieldFormUI } from "eau-documents";
import React from "react";
import { CertificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDVM, IdentityDocumentData } from "../../models/ModelsAutoGenerated";
import { IdentityDocumentDataUI } from "../field-forms/IdentityDocumentDataUI";

export class CertificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDUI extends EAUBaseComponent<BaseProps, CertificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDVM> {

    renderEdit(): JSX.Element {
        return (
            <>
                <FieldFormUI title={this.getResource("GL_ElectronicServiceProviderBasicData_L")}>
                    <ElectronicServiceProviderBasicDataUI {...this.bind(m => m.electronicServiceProviderBasicData)} />
                </FieldFormUI>
                <ElectronicServiceApplicantUI {...this.bind(m => m.electronicServiceApplicant)} viewMode={ViewMode.Display} />
                <FieldFormUI title={this.getResource("DOC_GL_CasefileData_L")}>
                    <div className="row">
                        <div className="form-group col-12">
                            <h4 className="form-control-label">{this.getResource("GL_URI_CASE_L")}</h4>
                            <p className="field-text"><AISCaseURIUI {...this.bind(m => m.aisCaseURI)} /></p>
                        </div>
                    </div>
                </FieldFormUI>
                <FieldFormUI title={this.getResourceByProperty(m => m.certificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDData)}>
                    <TextEditorUI {...this.bind(m => m.certificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDData)} />
                </FieldFormUI>
                <FieldFormUI title={this.getResourceByProperty(m => m.reportDate)}>
                    <div className="row">
                        <div className="form-group col-sm-auto">
                            <label htmlFor="DATE" className="form-control-label">{this.getResource("GL_DATE_L")}</label>
                            {this.dateTimeFor(m => m.reportDate)}
                        </div>
                    </div>
                </FieldFormUI>
                <FieldFormUI title={this.getResourceByProperty(m => m.documentMustServeTo)}>
                    <DocumentMustServeToUI {...this.bind(m => m.documentMustServeTo)} viewMode={ViewMode.Display} />
                </FieldFormUI>
            </>
        )
    }

    renderDisplay(): JSX.Element {
        return (
            <>
                {this.model.documentURI ?
                    <div className="row">
                        <div className="form-group col-12">
                            <p className="page-subtitle">
                                {this.getResource("GL_URI_L")} <DocumentURIUI {...this.bind(m => m.documentURI)} />
                            </p>
                            <p className="page-date">{this.getResource("GL_DATE_L")} {this.dateDisplayFor(this.model.documentReceiptOrSigningDate, Constants.DATE_FORMATS.date)}</p>
                        </div>
                    </div>
                    : null}
                <FieldFormUI title={this.getResource("GL_ElectronicServiceProviderBasicData_L")}>
                    <ElectronicServiceProviderBasicDataUI {...this.bind(m => m.electronicServiceProviderBasicData)} />
                </FieldFormUI>
                <ElectronicServiceApplicantUI {...this.bind(m => m.electronicServiceApplicant)} viewMode={ViewMode.Display} />
                <FieldFormUI title={this.getResource("DOC_GL_CasefileData_L")}>
                    <div className="row">
                        <div className="form-group col-12">
                            <h4 className="form-control-label">{this.getResource("GL_URI_CASE_L")}</h4>
                            <p className="field-text"><AISCaseURIUI {...this.bind(m => m.aisCaseURI)} /></p>
                        </div>
                    </div>
                </FieldFormUI>
                <FieldFormUI title={this.getResourceByProperty(m => m.certificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDData)}>
                    {this.model.certificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDData &&
                        this.model.certificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDData != "" ?
                        <div className="row">
                            <div className="form-group col-12">
                                <RawHTML rawHtmlText={this.model.certificateAttestingToEventsAndFactsRelatedToTheIssuanceOfIdentityDocumentsInZBLDData} />
                            </div>
                        </div>
                        : null}
                    {this.model.identityDocuments && this.model.identityDocuments.length > 0 ?
                        <ul className="list-filed">
                            {
                                this.model.identityDocuments.map((item: IdentityDocumentData, index: number) => {
                                    return (
                                        <li className="list-filed__item" role="group">
                                            <IdentityDocumentDataUI key={index} {...this.bind(item, '')} />
                                        </li>
                                    )
                                })
                            }
                        </ul>
                        : null
                    }
                </FieldFormUI>
                <FieldFormUI title={this.getResourceByProperty(m => m.reportDate)}>
                    <div className="row">
                        <div className="col-sm-4 form-group">
                            <h4 className="form-control-label">{this.getResource("GL_DATE_L")}</h4>
                            {this.dateDisplayFor(this.model.reportDate, Constants.DATE_FORMATS.date)}
                            {this.propertyErrorsDispleyFor(m => m.reportDate)}
                        </div>
                        <div className="col-sm-4 form-group">
                            <h4 className="form-control-label">{this.getResource("GL_HOUR_L")}</h4>
                            {this.dateDisplayFor(this.model.reportDate, Constants.DATE_FORMATS.TimeHm)}
                        </div>
                    </div>
                </FieldFormUI>
                <FieldFormUI title={this.getResourceByProperty(m => m.documentMustServeTo)}>
                    <DocumentMustServeToUI {...this.bind(m => m.documentMustServeTo)} viewMode={ViewMode.Display} />
                </FieldFormUI>
            </>
        )
    }
}