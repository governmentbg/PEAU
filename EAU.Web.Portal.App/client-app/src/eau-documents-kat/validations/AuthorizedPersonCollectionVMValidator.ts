import { EAUBaseValidator, ErrMsgCodesConstants, ResourceHelpers } from "eau-core";
import { DocumentFormValidationContext } from "eau-documents";
import { AuthorizedPersonCollectionVM } from "../models/ModelsAutoGenerated";
import { ApplicationForIssuingOfTemporaryRegistrationPlatesToMerchantsDataAuthorizedPersonsValidator } from "./ApplicationForIssuingOfTemporaryRegistrationPlatesToMerchantsDataAuthorizedPersonsValidator";

export class AuthorizedPersonCollectionVMValidator extends EAUBaseValidator<AuthorizedPersonCollectionVM, DocumentFormValidationContext> {

    constructor() {
        super();

        this.ruleFor(m => m.items).notEmpty()
            .withMessage(ResourceHelpers.formatErrorMessage(ErrMsgCodesConstants.DefaultNotEmptyErrorMessage, new AuthorizedPersonCollectionVM(), 'items'));;

        this.ruleFor(m => m.items).setCollectionValidator(new ApplicationForIssuingOfTemporaryRegistrationPlatesToMerchantsDataAuthorizedPersonsValidator());
    }
}