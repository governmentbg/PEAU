import { EAUBaseValidator, ResourceHelpers, ErrMsgCodesConstants } from "eau-core";
import { DocumentFormValidationContext } from "eau-documents";
import { ApplicationForChangeRegistrationOfVehiclesDataVM } from "../models/ModelsAutoGenerated";
import { ChangeRegistrationWithPersonOrEntityValidator } from "./ChangeRegistrationWithPersonOrEntityValidator";
import { ChangeRegistrationWithBarterValidator } from "./ChangeRegistrationWithBarterValidator";

export class ApplicationForChangeRegistrationOfVehiclesDataValidator extends EAUBaseValidator<ApplicationForChangeRegistrationOfVehiclesDataVM, DocumentFormValidationContext> {

    constructor() {
        super();

        this.ruleFor(m => m.vehicleOwnershipChangeType).notEmpty()
            .withMessage(ResourceHelpers.formatErrorMessage(ErrMsgCodesConstants.DefaultNotEmptyErrorMessage, new ApplicationForChangeRegistrationOfVehiclesDataVM(), 'vehicleOwnershipChangeType'));

        this.ruleFor(m => m.changeRegistrationWithPersonOrEntity).setValidator(new ChangeRegistrationWithPersonOrEntityValidator());
        this.ruleFor(m => m.changeRegistrationWithBarterVM).setValidator(new ChangeRegistrationWithBarterValidator());
    }
}