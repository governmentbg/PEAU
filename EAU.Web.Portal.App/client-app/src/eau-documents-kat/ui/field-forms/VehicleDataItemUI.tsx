import * as React from "react";
import { observer } from "mobx-react";
import { BaseProps } from "cnsys-ui-react";
import { EAUBaseComponent, Constants } from "eau-core";
import { VehicleDataItemVM, VehicleDataItemVehicleSuspension } from "../../models/ModelsAutoGenerated";
import { ResourceHelpers } from "cnsys-core";

interface VehicleDataItemUIProps extends BaseProps {
    extendedView?: boolean;
}


@observer export class VehicleDataItemUI extends EAUBaseComponent<VehicleDataItemUIProps, VehicleDataItemVM> {

    render(): JSX.Element {
        return (
            <>

                <div className="row">
                    <div className="col-sm-6 form-group">
                        <h4 className="form-control-label">{this.getResourceByProperty(m => m.registrationNumber)}</h4>
                        {this.textDisplayFor(m => m.registrationNumber)}
                    </div>
                    <div className="col-sm-6 form-group">
                        <h4 className="form-control-label">{this.getResourceByProperty(m => m.makeModel)}</h4>
                        {this.textDisplayFor(m => m.makeModel)}
                    </div>
                </div>
                <div className="row">
                    <div className="col-sm-6 form-group">
                        <h4 className="form-control-label">{this.getResourceByProperty(m => m.identificationNumber)}</h4>
                        {this.textDisplayFor(m => m.identificationNumber)}
                    </div>
                    <div className="col-sm-6 form-group">
                        <h4 className="form-control-label">{this.getResourceByProperty(m => m.engineNumber)}</h4>
                        {this.textDisplayFor(m => m.engineNumber)}
                    </div>
                </div>
                <div className="row">
                    <div className="col-sm-6 form-group">
                        <h4 className="form-control-label">{this.getResourceByProperty(m => m.type)}</h4>
                        {this.textDisplayFor(m => m.type)}
                    </div>
                    {this.props.extendedView && this.props.extendedView === true ?
                        <div className="col-sm-6 form-group">
                            <h4 className="form-control-label">{this.getResourceByProperty(m => m.vehicleFirstRegistrationDate)}</h4>
                            {this.dateDisplayFor(this.model.vehicleFirstRegistrationDate, Constants.DATE_FORMATS.date)}
                        </div>
                        : null
                    }
                </div>
                {this.model.previousRegistrationNumber ?
                    <div className="row">
                        <div className="col-12 form-group">
                            <h4 className="form-control-label">{this.getResourceByProperty(m => m.previousRegistrationNumber)}</h4>
                            {this.textDisplayFor(m => m.previousRegistrationNumber)}
                        </div>
                    </div>
                    : null}
                {this.model.vehicleSuspension && this.model.vehicleSuspension.length > 0 ?
                    <fieldset className="fields-group">
                        <legend><h3 className="field-title">{this.getResourceByProperty(m => m.vehicleSuspension)}</h3></legend>
                        <ul className="list-filed">
                            {
                                this.model.vehicleSuspension.map((item: VehicleDataItemVehicleSuspension, index: number) => {
                                    return (
                                        <li className="list-filed__item" role="group">
                                            <div className="row">
                                                <div className="form-group col-sm-6">
                                                    <h4 className="form-control-label">{this.getResource("DOC_KAT_VehicleDataItemVehicleSuspension_vehSuspensionReason_L")}</h4>
                                                    <p className="field-text">{item.vehSuspensionReason}</p>
                                                </div>
                                                <div className="form-group col-sm-6">
                                                    <h4 className="form-control-label">{this.getResource("DOC_KAT_VehicleDataItemVehicleSuspension_vehSuspensionDate_L")}</h4>
                                                    {this.dateDisplayFor(item.vehSuspensionDate, Constants.DATE_FORMATS.date)}
                                                </div>
                                            </div>
                                        </li>
                                    )
                                })
                            }
                        </ul>
                    </fieldset>
                    : null
                }
                {this.model.vehicleOwnerStartDate ?
                    <fieldset className="fields-group">
                        <legend><h3 className="field-title">{this.getResource("DOC_KAT_ownershipPeriod_L")}</h3></legend>
                        <div className="row">
                            <div className="form-group col-sm-6">
                                <h4 className="form-control-label">{this.getResourceByProperty(m => m.vehicleOwnerStartDate)}</h4>
                                {this.dateDisplayFor(this.model.vehicleOwnerStartDate, Constants.DATE_FORMATS.date)}
                            </div>
                            <div className="form-group col-sm-6">
                                <h4 className="form-control-label">{this.getResourceByProperty(m => m.vehicleOwnerEndDate)}</h4>
                                {this.dateDisplayFor(this.model.vehicleOwnerEndDate, Constants.DATE_FORMATS.date)}
                            </div>
                        </div>
                    </fieldset>
                    : null
                }
            </>
        );
    }
}