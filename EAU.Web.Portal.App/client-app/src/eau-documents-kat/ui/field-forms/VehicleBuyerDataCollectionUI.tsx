import * as React from "react";
import { observer } from "mobx-react";
import { BaseProps } from "cnsys-ui-react";
import { EAUBaseComponent } from "eau-core";
import { PersonEntityDataVM, PersonEntityChoiceType, PersonDataVM, PersonIdentifierVM, VehicleBuyerDataVM, PersonEntityFarmerChoiceType } from "../../models/ModelsAutoGenerated";
import { withCollectionItems, PersonIdentifierChoiceType } from "eau-documents";
import { BuyerUI } from ".";


interface VehicleBuyerDataProps extends BaseProps {

}

@observer export class VehicleBuyerDataImpl extends EAUBaseComponent<VehicleBuyerDataProps, VehicleBuyerDataVM> {

    renderEdit(): JSX.Element {
        return (
            <>
                <BuyerUI {...this.bind(m => m)} />
            </>
        );
    }

    renderDisplay(): JSX.Element {
        return (
            <>
                <BuyerUI {...this.bind(m => m)} />
            </>
        );
    }
}

export const VehicleBuyerDataCollectionUI = withCollectionItems(VehicleBuyerDataImpl, {
    initItem: () => {
        let newBuyer = new VehicleBuyerDataVM();
        newBuyer.personEntityData = new PersonEntityDataVM();
        newBuyer.personEntityData.selectedPersonEntityFarmerChoiceType = PersonEntityFarmerChoiceType.Person;
        newBuyer.personEntityData.person = new PersonDataVM();
        newBuyer.personEntityData.person.identifier = new PersonIdentifierVM();
        newBuyer.personEntityData.person.identifier.itemElementName = PersonIdentifierChoiceType.EGN;
        newBuyer.personEntityData.person.validateIdentityNumber = true;
        newBuyer.validateEmail = true;

        return newBuyer;
    },
    addButtonLabelKey: 'GL_ADD_NEW_OWNER_L'
});

