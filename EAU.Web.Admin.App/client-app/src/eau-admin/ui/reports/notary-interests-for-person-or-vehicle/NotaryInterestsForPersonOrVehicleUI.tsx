import { AsyncUIProps, BaseProps } from 'cnsys-ui-react';
import { EAUBaseComponent } from 'eau-core';
import { action, observable } from 'mobx';
import { observer } from 'mobx-react';
import React from 'react';
import { ObjectHelper } from 'cnsys-core';
import { NotaryInterestsForPersonOrVehicleSearchCriteria } from '../../../models/ModelsAutoGenerated';
import { NotaryInterestsForPersonOrVehicleResultsUI } from './NotaryInterestsForPersonOrVehicleResultsUI';
import { NotaryInterestsForPersonOrVehicleSearchUI } from './NotaryInterestsForPersonOrVehicleSearchUI';

interface NotaryInterestsForPersonOrVehicleUIProps extends BaseProps, AsyncUIProps { }

@observer export class NotaryInterestsForPersonOrVehicleUI extends EAUBaseComponent<NotaryInterestsForPersonOrVehicleUIProps, NotaryInterestsForPersonOrVehicleSearchCriteria>{

    @observable private resultsKey = ObjectHelper.newGuid();

    constructor(props:NotaryInterestsForPersonOrVehicleUIProps) {
        super(props);

        this.onSearchCallback = this.onSearchCallback.bind(this);
    }

    @action private onSearchCallback(criteria: NotaryInterestsForPersonOrVehicleSearchCriteria) {
        this.model = criteria;
        this.model.page = 1;
        this.model.pageSize = 10;
        this.resultsKey = ObjectHelper.newGuid();
    }

    render() {

        return <>
            <NotaryInterestsForPersonOrVehicleSearchUI onSearch={this.onSearchCallback} />
            <NotaryInterestsForPersonOrVehicleResultsUI key={this.resultsKey} {...this.bind(x => x)} />
        </>
    }
}